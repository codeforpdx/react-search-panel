(this["webpackJsonpreact-search-panel-example"]=this["webpackJsonpreact-search-panel-example"]||[]).push([[0],{19:function(e,t,n){e.exports=n(44)},20:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);n(20);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),l=n(3),i=n.n(l),s=n(5),u=n(2),f=n(17),m=n.n(f),d=n(18),h="_styles-module__topContainer__27LcO",p="_styles-module__small__1YEqb",_="_styles-module__searchContainer__28k26",v="_styles-module__searchContainerExpanded__e0HZm",y="_styles-module__searchContainerExpandedShadow__19P_K",b="_styles-module__searchContainerShadow__K2rgg",E="_styles-module__searchIconContainer__10p4R",w="_styles-module__flexContainer__3pFk-",k="_styles-module__searchIcon__1dkPH",g="_styles-module__inputField__3_x3y",C="_styles-module__inputContainer__34uzV",x="_styles-module__inputFieldContainer__1KlJe",S="_styles-module__resultContainer__Po5pr",O="_styles-module__resultListContainer__GFbgN",j="_styles-module__resultListContainerExpandedShadow__2qkdB",L="_styles-module__resultList__3JJzg",A="_styles-module__resultSeperator__2FQkt",N="_styles-module__resultListItem__255FQ",I="_styles-module__resultItem__3Hp7m",R="_styles-module__resultItemLabel__rcaln",F="_styles-module__linkChoice__1Nygc";function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw c}}return n}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T,P=function(e,t){for(var n=e.target;n;){var a;if(null===(a=n.classList)||void 0===a?void 0:a.contains(t))return!0;n=n.parentElement}return!1},B=function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY},H=function(e){return!(!e.includes("touch")||!function(){if("undefined"==typeof window||"function"!=typeof window.addEventListener)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){return null};return window.addEventListener("test",n,t),window.removeEventListener("test",n,t),e}())&&{passive:!0}},V=a.useLayoutEffect,q=function(e){var t=Object(a.useRef)(e);return V((function(){t.current=e})),t},G=new Map([["Win","Meta"],["Scroll","ScrollLock"],["Spacebar"," "],["Down","ArrowDown"],["Left","ArrowLeft"],["Right","ArrowRight"],["Up","ArrowUp"],["Del","Delete"],["Crsel","CrSel"],["Exsel","ExSel"],["Apps","ContextMenu"],["Esc","Escape"],["Decimal","."],["Multiply","*"],["Add","+"],["Subtract","-"],["Divide","/"]]),K=function(e,t){var n=q(e),r=q(t);Object(a.useEffect)((function(){var e=function(e){var t;!function(e){if(G.has(e.key)){var t=G.get(e.key);Object.defineProperty(e,"key",{get:function(){return t}})}}(e),(t=n.current,Array.isArray(t)?t:[t]).includes(e.key)&&r.current(e)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[])};!function(e){e[e.checkbox=0]="checkbox",e[e.link=1]="link",e[e.radio=2]="radio"}(T||(T={}));var U=function(e){var t=e.choices,n=e.noChoiceItem,c=e.onChange,o=e.onSelectionChange,l=e.placeholder,f=e.shadow,m=e.small,D=e.value,J=e.variant,V=r.a.useState(!1),q=Object(u.a)(V,2),G=q[0],U=q[1],W=r.a.useState(!1),Q=Object(u.a)(W,2),Y=Q[0],Z=Q[1],X=r.a.useState([]),$=Object(u.a)(X,2),ee=$[0],te=$[1],ne=r.a.useRef(null),ae=!1,re=!0;T.checkbox===J&&(ae=!0),T.link!==J&&(re=!1);var ce=function(){ne.current&&ne.current.blur(),U(!1),Z(!1)},oe=function(e,t){var n=t.indexOf(e);n>-1&&t.splice(n,1)},le=function(e,t){var a=e.target,r=Object(d.a)(ee),c=!1;a.checked?function(e,t){ae||t.splice(0,t.length),t.push(e)}(t,r):oe(t,r),n&&(t===n.key&&a.checked?(r=[t],c=!0):oe(n.key,r)),te(r),o&&o(c?[]:r)},ie=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){te(e),o&&o(e)};Object(a.useEffect)((function(){Y&&(t.length?U(!0):U(!1))}),[t]),Object(a.useEffect)((function(){se([])}),[J]);var ue=function(e){var t=e.choice,n="choice_".concat(t.key,"_").concat(Math.random()),a="radio";return ae&&(a="checkbox"),r.a.createElement("div",{className:"".concat(I," ").concat(m?p:"")},re&&r.a.createElement("a",{href:"",className:F,onClick:function(e){return function(e,t){e.preventDefault();var n=[t.key];se(n)}(e,t)}},t.description),!re&&r.a.createElement("span",null,r.a.createElement("input",{id:n,key:n,name:"ChoiceGroup",type:a,onChange:function(e){return le(e,t.key)},value:t.key,checked:ee.indexOf(t.key)>-1,tabIndex:0}),r.a.createElement("label",{htmlFor:n,className:R},t.description)))},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.refs,r=t.disabled,c=void 0!==r&&r,o=t.eventTypes,l=void 0===o?["mousedown","touchstart"]:o,i=t.excludeScrollbar,s=void 0!==i&&i,u=t.ignoreClass,f=void 0===u?"ignore-onclickoutside":u,m=Object(a.useRef)(e),d=Object(a.useState)([]),h=M(d,2),p=h[0],_=h[1];Object(a.useEffect)((function(){m.current=e}),[e]);var v=Object(a.useCallback)((function(e){_((function(t){return[].concat(z(t),[{current:e}])}))}),[]);return Object(a.useEffect)((function(){if((null==n?void 0:n.length)||p.length){var e=function(e){if(!P(e,f)){var t=[];(n||p).forEach((function(e){var n=e.current;n&&t.push(n)})),s&&B(e)||t.length&&t.every((function(t){return!t.contains(e.target)}))&&m.current(e)}},t=function(){l.forEach((function(t){document.removeEventListener(t,e,H(t))}))};if(!c)return l.forEach((function(t){document.addEventListener(t,e,H(t))})),function(){t()};t()}}),[p,f,s,c,JSON.stringify(l)]),v}(ce);return K("Escape",ce),K("Enter",ce),r.a.createElement("form",{className:"\n        ".concat(h,"\n        ").concat(m?p:"","\n      "),ref:fe,onFocus:function(){Z(!0),t.length&&U(!0)},onBlur:function(){}},r.a.createElement("div",{className:"\n            ".concat(_,"\n            ").concat(G?v:"","\n            ").concat(G&&f?y:"","\n            ").concat(m?p:"","\n            ").concat(f?b:"","\n          ")},r.a.createElement("div",{className:w},r.a.createElement("div",{className:E},r.a.createElement("span",{className:k},r.a.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})))),r.a.createElement("div",{className:C},r.a.createElement("div",{className:x}),r.a.createElement("input",{ref:ne,className:"".concat(g," ").concat(m?p:""),type:"text","aria-autocomplete":"both","aria-haspopup":"false",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",role:"combobox",spellCheck:"false",title:l,"aria-label":l,"aria-controls":"ResultContainer","aria-expanded":G,placeholder:l,onChange:ie,value:D})))),G&&r.a.createElement("div",{id:"ResultContainer",className:S},r.a.createElement("fieldset",{id:"ChoiceGroup",className:"\n            ".concat(O,"\n            ").concat(f?j:"","\n            ").concat(m?p:"","\n          ")},r.a.createElement("div",{className:A}),r.a.createElement("ul",{className:L,role:"listbox"},n&&r.a.createElement("li",{key:n.key,className:N,role:"presentation"},r.a.createElement(ue,{choice:n})),t.map((function(e){return r.a.createElement("li",{key:e.key,className:N,role:"presentation"},r.a.createElement(ue,{choice:e}))}))))))},W=(n(43),{container:{margin:"auto",maxWidth:"650px",padding:"40px"},formItem:{marginLeft:"15px"},formLabel:{marginLeft:"5px"},selected:{color:"#114488"}}),Q=function(){var e=r.a.useState(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=r.a.useState(T.link),l=Object(u.a)(o,2),f=l[0],d=l[1],h=r.a.useState([]),p=Object(u.a)(h,2),_=p[0],v=p[1],y=r.a.useState([]),b=Object(u.a)(y,2),E=b[0],w=b[1];Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(n.length>=3)){e.next=10;break}return a="".concat("https://api.tvmaze.com/search/shows?q=").concat(n),e.next=5,m()(a);case 5:return r=e.sent,e.next=8,r.data;case 8:e.sent.forEach((function(e){var n={key:e.show.id,description:e.show.name};t.push(n)}));case 10:v(t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var k=function(e){var t=e.label,n=e.variantChoice;return r.a.createElement("label",{style:W.formItem},r.a.createElement("input",{key:t,type:"radio",value:n,tabIndex:0,checked:f===n,onChange:function(){return d(n)}}),r.a.createElement("span",{style:W.formLabel},t))};return r.a.createElement("div",{style:W.container},r.a.createElement("h1",null,"A demonstration of react-search-panel"),r.a.createElement("p",null,"This demonstration searches for TV shows when you type at least ",3," characters. It uses the public ",r.a.createElement("a",{href:"http://www.tvmaze.com/api#show-search"},"TVMAZE API"),"."),r.a.createElement("p",null,"Configure variant:",r.a.createElement(k,{label:"Checkbox",variantChoice:T.checkbox}),r.a.createElement(k,{label:"Link",variantChoice:T.link}),r.a.createElement(k,{label:"Radio",variantChoice:T.radio})),r.a.createElement("div",null,r.a.createElement(U,{choices:_,onChange:function(e){var t=e.target;c(t.value)},onSelectionChange:function(e){return w(e)},placeholder:"Search TV shows",small:!0,value:n,variant:f})),r.a.createElement("p",{style:W.selected},"Selected: ",JSON.stringify(E)))};o.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.abd2cf06.chunk.js.map